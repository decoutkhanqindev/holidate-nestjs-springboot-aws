@startuml
|Người dùng|
start
if (Đã đăng nhập?) then (Chưa)
  :Đăng nhập vào hệ thống;
  |Hệ thống|
  :Xác thực thông tin đăng nhập;
  if (Đăng nhập thành công?) then (Không)
    :Thông báo lỗi đăng nhập;
    stop
  else (Có)
    |Người dùng|
  endif
else (Đã đăng nhập)
endif

|Người dùng|
:Chọn mã khuyến mãi cần cập nhật;
:Nhập thông tin cần cập nhật\n(mã, mô tả, phần trăm, ngày hiệu lực, trạng thái...);
if (Có thay đổi liên kết?) then (Có)
  :Chọn khách sạn hoặc ngày đặc biệt mới\n(hoặc xóa liên kết);
else (Không)
endif
:Nhấn nút "Cập nhật";

|Hệ thống|
:Kiểm tra mã khuyến mãi có tồn tại?;

if (Mã khuyến mãi tồn tại?) then (Không)
  :Thông báo lỗi\nmã khuyến mãi không tồn tại;
  |Người dùng|
  -> Chọn mã khuyến mãi khác;
else (Có)
  |Hệ thống|
  if (Có thay đổi mã?) then (Có)
    :Kiểm tra mã mới\nđã tồn tại?;
    if (Mã đã tồn tại?) then (Có)
      :Thông báo lỗi\nmã khuyến mãi đã tồn tại;
      |Người dùng|
      -> Nhập lại mã;
    else (Không)
    endif
  else (Không)
  endif

  |Hệ thống|
  :Kiểm tra thông tin cập nhật hợp lệ\n(ngày hiệu lực, khách sạn/ngày đặc biệt nếu có);

  if (Thông tin hợp lệ?) then (Không)
    :Thông báo lỗi thông tin không hợp lệ;
    |Người dùng|
    -> Nhập lại thông tin;
  else (Có)
    |Hệ thống|
    :Cập nhật thông tin mã khuyến mãi;
    :Lưu thông tin vào CSDL;
    :Thông báo cập nhật thành công;

    |Người dùng|
    :Nhận thông báo cập nhật thành công;
  endif
endif

stop
@enduml

